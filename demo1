<template>
  <div class="chart-container">
    <div ref="chart" style="width: 800px; height: 600px;"></div>
  </div>
</template>

<script setup>
import * as echarts from "echarts";
import { onMounted, ref } from 'vue';

const chart = ref(null);

const salesData = [
  { name: '电子产品', value: 1200 },
  { name: '服装', value: 800 },
  { name: '家居', value: 600 },
  { name: '图书', value: 400 },
  { name: '食品', value: 300 }
];

onMounted(() => {
  const mEChart = echarts.init(chart.value);
  
  const option = {
    title: {
      text: '商品类别销售占比',
      left: 'left',  
      top: 0
    },
    tooltip: {
      trigger: 'item',
      formatter: '{a}'
    },
    legend: {
      top: 0,        
      right: 0,       
      orient: 'horizontal',  
      data: salesData.map(item => item.name)
    },
    series: [
      {
        name: '销售额',
        type: 'pie',
        radius: ['20%', '80%'],
        center: ['50%', '50%'],
        roseType: 'radius',
        itemStyle: {
          borderRadius: 0
        },
        label: {
          show: true,
          formatter: '{b}'
        },
        emphasis: {
          label: {
            show: true
          }
        },
        data: salesData
      }
    ]
  };

  mEChart.setOption(option);
  
});
</script>

<style scoped>
.chart-container {
  display: flex;
  justify-content: center;
  height: 100vh;
}
</style>
